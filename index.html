<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pulse - Alex Martinez</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #7C3AED;
            --primary-dark: #6D28D9;
            --primary-light: #8B5CF6;
            --secondary: #EC4899;
            --accent: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --text-primary: #111827;
            --text-secondary: #6B7280;
            --text-muted: #9CA3AF;
            --bg-primary: #FFFFFF;
            --bg-secondary: #F9FAFB;
            --bg-tertiary: #F3F4F6;
            --border: #E5E7EB;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
            --radius: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* Header */
        .header {
            background: var(--bg-primary);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .back-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--bg-secondary);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: var(--bg-tertiary);
            transform: translateX(-2px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            letter-spacing: -0.5px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            animation: orbFloat 3s ease-in-out infinite;
        }

        .logo-icon svg {
            width: 30%;
            height: 30%;
        }

        @keyframes orbFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
        }

        .menu-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: transparent;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .menu-btn:hover {
            background: var(--bg-secondary);
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        /* Profile Section */
        .profile-section {
            background: var(--bg-primary);
            padding: 32px 20px;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 20px;
            position: relative;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            padding: 4px;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--bg-primary);
        }

        .level-badge {
            position: absolute;
            bottom: 0;
            right: 0;
            background: linear-gradient(135deg, var(--accent), #059669);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            border: 3px solid var(--bg-primary);
            animation: levelPulse 2s ease-in-out infinite;
        }

        @keyframes levelPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .profile-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--text-primary);
        }

        .profile-username {
            color: var(--text-secondary);
            font-size: 16px;
            margin-bottom: 16px;
        }

        .profile-bio {
            max-width: 500px;
            margin: 0 auto 24px;
            color: var(--text-secondary);
            font-size: 15px;
            line-height: 1.6;
        }

        .profile-stats {
            display: flex;
            justify-content: center;
            gap: 48px;
            padding: 20px 0;
            border-top: 1px solid var(--border);
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            display: block;
            transition: all 0.3s ease;
        }

        .stat:hover .stat-value {
            color: var(--primary);
            transform: scale(1.1);
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Journey Section */
        .journey-section {
            margin: 20px;
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .section-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .progress-percentage {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        /* Progress Container */
        .progress-container {
            margin-bottom: 32px;
        }

        .progress-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 20px;
            transition: width 1s ease-out;
            position: relative;
            animation: progressShimmer 2s ease-in-out infinite;
        }

        @keyframes progressShimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; }
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            right: 4px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            animation: progressGlow 2s ease-in-out infinite;
        }

        @keyframes progressGlow {
            0%, 100% { box-shadow: 0 0 8px rgba(236, 72, 153, 0.6); }
            50% { box-shadow: 0 0 16px rgba(236, 72, 153, 0.8); }
        }

        .milestones {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
            position: relative;
        }

        .milestone {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 11px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .milestone-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }

        .milestone.completed .milestone-dot {
            background: var(--primary);
            box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.1);
            animation: completedPulse 3s ease-in-out infinite;
        }

        @keyframes completedPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .milestone.current .milestone-dot {
            background: var(--secondary);
            width: 16px;
            height: 16px;
            box-shadow: 0 0 0 4px rgba(236, 72, 153, 0.1);
            animation: currentPulse 2s ease-in-out infinite;
        }

        @keyframes currentPulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 4px rgba(236, 72, 153, 0.1);
            }
            50% {
                transform: scale(1.2);
                box-shadow: 0 0 0 8px rgba(236, 72, 153, 0.05);
            }
        }

        .milestone:hover {
            color: var(--text-primary);
        }

        /* Party Card */
        .party-card {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
        }

        .party-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .party-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .party-badge {
            background: linear-gradient(135deg, var(--accent), #059669);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            animation: badgePulse 3s ease-in-out infinite;
        }

        @keyframes badgePulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 8px rgba(16, 185, 129, 0);
            }
        }

        .party-members {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .member {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 16px;
            color: var(--text-secondary);
            border: 2px solid var(--bg-primary);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .member:hover {
            transform: translateY(-6px) scale(1.1);
            box-shadow: var(--shadow-md);
        }

        .member.you {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .member.veteran {
            border: 3px solid var(--warning);
            box-shadow: 0 0 10px rgba(245, 158, 11, 0.3);
        }

        .member-role {
            position: absolute;
            bottom: -8px;
            right: -4px;
            font-size: 12px;
        }

        /* Task Card */
        .task-card {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin: 20px;
            box-shadow: var(--shadow-sm);
            border: 2px solid var(--border);
            transition: all 0.3s ease;
        }

        .task-card.epic {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.02), rgba(236, 72, 153, 0.02));
        }

        .task-type {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 16px;
            letter-spacing: 0.5px;
        }

        .task-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .task-description {
            color: var(--text-secondary);
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .task-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 20px;
            padding: 16px;
            background: var(--bg-secondary);
            border-radius: var(--radius);
        }

        .task-meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .task-meta-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            border-radius: 6px;
        }

        .countdown-banner {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 16px;
            border-radius: var(--radius);
            text-align: center;
            margin-bottom: 20px;
        }

        .countdown-label {
            font-size: 12px;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .countdown-time {
            font-size: 24px;
            font-weight: 700;
        }

        /* Challenges Grid */
        .challenges-grid {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .challenge-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--bg-secondary);
            border-radius: var(--radius);
            border-left: 3px solid var(--primary);
            transition: all 0.2s ease;
        }

        .challenge-item:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }

        .challenge-number {
            width: 32px;
            height: 32px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .challenge-info {
            flex: 1;
        }

        .challenge-type {
            font-weight: 600;
            color: var(--text-primary);
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 0.5px;
        }

        .challenge-desc {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Attendance Status */
        .attendance-status {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 20px;
        }

        .attendance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .attendance-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .attendance-count {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .attendance-warning {
            color: var(--danger);
            font-weight: 600;
        }

        .attendance-members {
            display: flex;
            gap: 8px;
        }

        .attendance-member {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .attendance-member.confirmed {
            background: var(--accent);
        }

        .attendance-member.pending {
            background: var(--text-muted);
        }

        .attendance-member:hover {
            transform: scale(1.1);
        }

        /* Action Button */
        .action-btn {
            width: 100%;
            padding: 16px 24px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-md);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .action-btn:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
        }

        /* Season Schedule */
        .season-schedule {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin: 20px;
            box-shadow: var(--shadow-sm);
        }

        .schedule-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .seasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .season-item {
            text-align: center;
            padding: 16px;
            background: var(--bg-secondary);
            border-radius: var(--radius);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .season-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .season-item.current {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.05), rgba(236, 72, 153, 0.05));
            animation: currentSeason 3s ease-in-out infinite;
        }

        @keyframes currentSeason {
            0%, 100% {
                transform: translateY(0);
                box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
            }
            50% {
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(124, 58, 237, 0.3);
            }
        }

        .season-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .season-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .season-date {
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Pulse Activity Visualization */
        .pulse-activity-section {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 24px 20px;
            margin: 20px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            position: relative;
        }

        .pulse-activity-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent, 
                var(--primary), 
                var(--secondary), 
                var(--primary), 
                transparent
            );
            animation: scanLine 3s linear infinite;
        }

        @keyframes scanLine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .activity-grid-container {
            overflow-x: auto;
            padding: 16px 0;
        }

        .month-labels {
            display: grid;
            grid-template-columns: 40px repeat(52, 12px);
            gap: 3px;
            min-width: 680px;
            margin-bottom: 8px;
        }

        .month-label {
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
            padding: 0 2px;
        }

        .month-spacer {
            width: 40px;
        }

        .activity-grid {
            display: grid;
            grid-template-columns: 40px repeat(52, 12px);
            gap: 3px;
            min-width: 680px;
        }

        .week-row {
            display: contents;
        }

        .day-label {
            text-align: right;
            padding-right: 8px;
            font-size: 11px;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: flex-end;
        }

        .activity-cell {
            aspect-ratio: 1;
            border-radius: 2px;
            background: var(--bg-tertiary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .activity-cell.level-1 { background: rgba(124, 58, 237, 0.2); }
        .activity-cell.level-2 { background: rgba(124, 58, 237, 0.4); }
        .activity-cell.level-3 { background: rgba(124, 58, 237, 0.6); }
        .activity-cell.level-4 { background: var(--primary); }

        .activity-cell:hover {
            transform: scale(1.5);
            border: 1px solid var(--primary);
            z-index: 10;
            position: relative;
        }

        /* Activity Detail Tooltip */
        .activity-detail-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            white-space: nowrap;
            z-index: 1000;
            border: 1px solid rgba(124, 58, 237, 0.5);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            pointer-events: none;
            opacity: 0;
            transform: translateY(5px);
            transition: all 0.2s ease;
        }

        .activity-detail-tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        .activity-detail-tooltip .tooltip-header {
            font-weight: 600;
            color: var(--primary-light);
            margin-bottom: 6px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 4px;
        }

        .activity-detail-tooltip .tooltip-activities {
            margin-bottom: 6px;
        }

        .activity-detail-tooltip .tooltip-connections {
            color: var(--warning);
            font-weight: 600;
        }

        .activity-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
        }

        .activity-help-link {
            color: var(--primary);
            text-decoration: none;
            font-size: 13px;
            transition: opacity 0.2s;
        }

        .activity-help-link:hover {
            opacity: 0.8;
            text-decoration: underline;
        }

        .activity-legend {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .legend-box {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .legend-box.level-0 { background: var(--bg-tertiary); }
        .legend-box.level-1 { background: rgba(124, 58, 237, 0.2); }
        .legend-box.level-2 { background: rgba(124, 58, 237, 0.4); }
        .legend-box.level-3 { background: rgba(124, 58, 237, 0.6); }
        .legend-box.level-4 { background: var(--primary); }

        /* Recent Activities */
        .recent-activities {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 24px 20px;
            margin: 20px;
            box-shadow: var(--shadow-sm);
        }

        .activities-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--bg-secondary);
            border-radius: var(--radius);
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .activity-item:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .activity-icon.completed {
            background: rgba(16, 185, 129, 0.1);
        }

        .activity-icon.training {
            background: rgba(124, 58, 237, 0.1);
        }

        .activity-info {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .activity-date {
            font-size: 13px;
            color: var(--text-muted);
        }

        .activity-xp {
            font-weight: 700;
            color: var(--warning);
            font-size: 14px;
        }

        /* Level System & Gated Content */
        .level-system-section {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: 24px 20px;
            margin: 20px;
            box-shadow: var(--shadow-sm);
        }

        .level-tiers {
            display: grid;
            gap: 16px;
            margin-top: 20px;
        }

        .level-tier {
            background: var(--bg-secondary);
            border-radius: var(--radius);
            padding: 16px;
            position: relative;
            overflow: hidden;
        }

        .level-tier.locked {
            opacity: 0.6;
            position: relative;
        }

        .level-tier.locked::after {
            content: '🔒 LOCKED';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            z-index: 2;
        }

        .level-tier.current {
            border: 2px solid var(--primary);
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.05), rgba(236, 72, 153, 0.05));
        }

        .level-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .level-title {
            font-size: 16px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .level-badge-small {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .activity-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .activity-tag {
            background: var(--bg-tertiary);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            color: var(--text-secondary);
            transition: all 0.2s ease;
        }

        .activity-tag:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.05);
        }

        /* Info Box */
        .info-box {
            background: rgba(124, 58, 237, 0.05);
            border: 1px solid rgba(124, 58, 237, 0.1);
            border-radius: var(--radius);
            padding: 12px;
            margin: 16px 0;
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
        }

        .warning-box {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: var(--radius);
            padding: 12px;
            margin: 16px 0;
            color: var(--danger);
            font-size: 14px;
            line-height: 1.5;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: var(--radius-xl);
            padding: 32px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 20px;
            color: var(--text-secondary);
        }

        .modal-close:hover {
            background: var(--bg-tertiary);
        }

        .modal-body {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Schedule Modal Styles */
        .schedule-options {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin: 20px 0;
        }

        .schedule-option {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: var(--radius);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .schedule-option:hover {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.05), rgba(236, 72, 153, 0.05));
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .schedule-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .schedule-info {
            flex: 1;
        }

        .schedule-info h3 {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .schedule-info p {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .schedule-status {
            flex-shrink: 0;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-badge.disconnected {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .status-badge.connected {
            background: rgba(16, 185, 129, 0.1);
            color: var(--accent);
        }

        .availability-benefits {
            background: rgba(124, 58, 237, 0.05);
            border: 1px solid rgba(124, 58, 237, 0.1);
            border-radius: var(--radius);
            padding: 16px;
            margin: 20px 0;
        }

        .availability-benefits h4 {
            color: var(--text-primary);
            margin-bottom: 12px;
            font-size: 16px;
        }

        .availability-benefits ul {
            list-style: none;
            padding: 0;
        }

        .availability-benefits li {
            padding: 4px 0;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .privacy-note {
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.1);
            border-radius: var(--radius);
            padding: 12px;
            margin-top: 16px;
        }

        .privacy-note p {
            margin: 0;
            font-size: 13px;
            color: var(--text-secondary);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 16px;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: var(--radius);
        }

        .nav-item:hover {
            background: var(--bg-secondary);
            color: var(--primary);
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 500;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
            transition: all 0.3s ease;
            animation: fabPulse 2s ease-in-out infinite;
            z-index: 999;
        }

        @keyframes fabPulse {
            0%, 100% {
                transform: scale(1) rotate(0deg);
                box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
            }
            50% {
                transform: scale(1.05) rotate(3deg);
                box-shadow: 0 6px 20px rgba(236, 72, 153, 0.4);
            }
        }

        .fab:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 6px 24px rgba(124, 58, 237, 0.5);
        }

        /* Responsive */
        @media (max-width: 640px) {
            .profile-stats {
                gap: 24px;
                display: grid;
                grid-template-columns: repeat(2, 1fr);
            }

            .seasons-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .task-meta {
                flex-direction: column;
                gap: 12px;
            }

            .milestones {
                font-size: 10px;
            }

            .activity-grid-container {
                overflow-x: auto;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-nav">
            <button class="back-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M5 12L12 19M5 12L12 5"/>
                </svg>
            </button>
        </div>
        
        <div class="logo">
            <img src="https://cdn.prod.website-files.com/684c0c361d82fed93d6ae2d7/6899b3be1b78152212ee7983_futpal-logo%20(1).png" alt="Pulse Logo" style="width: 32px; height: 32px; object-fit: contain;" />
            <span>pulse</span>
        </div>
        
        <button class="menu-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="1"/>
                <circle cx="12" cy="5" r="1"/>
                <circle cx="12" cy="19" r="1"/>
            </svg>
        </button>
    </div>

    <!-- Floating Action Button -->
    <div class="fab" title="Update Schedule Availability" onclick="openScheduleModal()">
        📅
    </div>

    <!-- Schedule Availability Modal -->
    <div id="scheduleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">📅 Update Schedule Availability</h2>
                <button class="modal-close" onclick="closeScheduleModal()">×</button>
            </div>
            <div class="modal-body">
                <p>Help us recommend the perfect times and venues for activities by sharing your availability!</p>
                <br>
                
                <div class="schedule-options">
                    <div class="schedule-option" onclick="syncGoogleCalendar()">
                        <div class="schedule-icon">🔗</div>
                        <div class="schedule-info">
                            <h3>Sync Google Calendar</h3>
                            <p>Automatically sync your calendar so we know when you're free. We'll only see busy/free status, not event details.</p>
                        </div>
                        <div class="schedule-status">
                            <span class="status-badge disconnected">Not Connected</span>
                        </div>
                    </div>
                    
                    <div class="schedule-option" onclick="openManualSchedule()">
                        <div class="schedule-icon">⏰</div>
                        <div class="schedule-info">
                            <h3>Set Manual Availability</h3>
                            <p>Choose your regular weekly availability patterns for different activity types.</p>
                        </div>
                        <div class="schedule-status">
                            <span class="status-badge">→</span>
                        </div>
                    </div>
                </div>
                
                <div class="availability-benefits">
                    <h4>🎯 How This Helps Your Squad:</h4>
                    <ul>
                        <li><strong>Smart Scheduling:</strong> Hosts get optimal time recommendations based on squad availability</li>
                        <li><strong>Better Attendance:</strong> Activities scheduled when most people are free</li>
                        <li><strong>Venue Suggestions:</strong> Platform recommends locations convenient for your squad</li>
                        <li><strong>Automatic Matching:</strong> Get invited to activities that fit your schedule perfectly</li>
                    </ul>
                </div>
                
                <div class="privacy-note">
                    <p><strong>🔒 Privacy:</strong> We only access your busy/free status, never event details. You can disconnect anytime.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="activityModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">💓 Pulse Rhythm Explained</h2>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body">
                <p>Your Pulse Rhythm is a dynamic visualization of your social connections that drives retention through visible progress and community building.</p>
                <br>
                <p><strong>🎯 Key Features:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Connection-Based Intensity:</strong> Purple intensity = number of people met through activities</li>
                    <li><strong>Hosting Rewards:</strong> Hosting activities creates more connections = stronger pulse</li>
                    <li><strong>Large Event Bonus:</strong> Attending popular events with many people = brighter visualization</li>
                    <li><strong>Regression System:</strong> Inactive periods cause your pulse to fade (like video game health bars)</li>
                    <li><strong>Social Visibility:</strong> Squad members can see each other's connection patterns</li>
                </ul>
                <br>
                <p><strong>📊 Activities that strengthen your pulse:</strong></p>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>Hosting activities (Level 5+):</strong> Meet 15-30+ people per event</li>
                    <li><strong>Large community events:</strong> 20+ person tournaments and meetups</li>
                    <li><strong>Squad activities:</strong> Consistent 6-person team building</li>
                    <li><strong>Popular activities:</strong> Join events with high attendance</li>
                </ul>
                <br>
                <p><strong>💡 Pro Tip:</strong> Click or hover on any square to see detailed activity breakdown and connection counts for that week! 🔥</p>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Profile Section -->
        <div class="profile-section">
            <div class="profile-avatar">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%237C3AED'/%3E%3Cstop offset='100%25' style='stop-color:%23EC4899'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect fill='url(%23grad)' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-size='80' fill='white'%3EA%3C/text%3E%3C/svg%3E" alt="Profile">
                <span class="level-badge">⭐ Level 1</span>
            </div>
            
            <h1 class="profile-name">Alex Martinez</h1>
            <p class="profile-username">@alexfutsal • 4,850 XP 💎 • Rank #342</p>
            <p class="profile-bio">
                Professional futsal player & skills coach 🎯 Building community through sports ⚡
                5x National Champion 🏆 Phoenix Squad Newcomer 🔥
            </p>

            <div class="profile-stats">
                <div class="stat">
                    <span class="stat-value">47 🎯</span>
                    <span class="stat-label">Attended</span>
                </div>
                <div class="stat">
                    <span class="stat-value">15 🤝</span>
                    <span class="stat-label">Friends</span>
                </div>
                <div class="stat">
                    <span class="stat-value">12 🚀</span>
                    <span class="stat-label">Weekly Streak</span>
                </div>
            </div>
        </div>

        <!-- Journey Progress -->
        <div class="journey-section">
            <div class="section-header">
                <div>
                    <h2 class="section-title">⚔️ Level 1: Your Pulse Initiation</h2>
                    <p class="section-subtitle">Fresher's Day • Summer Season 2025</p>
                </div>
                <div class="progress-percentage">60% 🔥</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%;"></div>
                </div>
                <div class="milestones">
                    <div class="milestone completed">
                        <div class="milestone-dot"></div>
                        <span>JOINED</span>
                    </div>
                    <div class="milestone completed">
                        <div class="milestone-dot"></div>
                        <span>FIRST MEET</span>
                    </div>
                    <div class="milestone completed">
                        <div class="milestone-dot"></div>
                        <span>TEAM BOND</span>
                    </div>
                    <div class="milestone current">
                        <div class="milestone-dot"></div>
                        <span>FRESHER'S DAY</span>
                    </div>
                    <div class="milestone">
                        <div class="milestone-dot"></div>
                        <span>SORTING CEREMONY</span>
                    </div>
                </div>
            </div>
            
            <!-- Squad System: 2 Veterans + 4 Newcomers -->
            <div class="party-card">
                <div class="party-header">
                    <h3 class="party-name">🔥 Phoenix Squad</h3>
                    <span class="party-badge">🎓 GRADUATION READY</span>
                </div>
                <div class="party-members">
                    <div class="member veteran" title="Sarah - Veteran Leader (Level 15)">
                        S
                        <span class="member-role">⭐</span>
                    </div>
                    <div class="member veteran" title="Mike - Veteran Mentor (Level 12)">
                        M
                        <span class="member-role">⭐</span>
                    </div>
                    <div class="member you" title="You - Newcomer (Level 3)">A</div>
                    <div class="member" title="Lisa - Newcomer (Level 2)">L</div>
                    <div class="member" title="Tom - Newcomer (Level 1)">T</div>
                    <div class="member" title="Emma - Newcomer (Level 2)">E</div>
                </div>
                <div class="info-box">
                    <strong>🎯 Squad Structure:</strong> 2 Veterans provide mentorship & knowledge transfer to 4 newcomers who all live within 3-5km radius of each other.<br><br>
                    <strong>💪 Squad Strengths:</strong> Mental (Lisa) 🧠 | Physical (Mike) 💪 | Balance (Tom) ⚖️ | Speed (You) ⚡ | Leadership (Sarah) ⭐ | Coordination (Emma) 🤝
                </div>
            </div>
        </div>

        <!-- Current Task: Seasonal Battle Royale -->
        <div class="task-card epic">
            <div class="countdown-banner">
                <div class="countdown-label">🎓 FRESHER'S DAY COUNTDOWN 🎓</div>
                <div class="countdown-time">18 DAYS : 14 HOURS : 32 MIN</div>
            </div>
            <span class="task-type">⚔️ Challenge Stage</span>
            <h3 class="task-title">Summer Fresher's Day 2025</h3>
            <p class="task-description">
                🎓 THE ONLY WAY TO GRADUATE: Celebration event with many other squads in 5 fun team challenges.
                This happens only 4 times per year - your squad's graduation depends on this! 🎉
            </p>
            
            <div class="warning-box">
                <strong>⚠️ CRITICAL GRADUATION REQUIREMENT:</strong> All 6 squad members must attend or your entire squad fails and waits 3 months for Fall Fresher's Day! No individual graduation possible - succeed together or wait together.
            </div>
            
            <div class="challenges-grid">
                <div class="challenge-item">
                    <div class="challenge-number">1</div>
                    <div class="challenge-info">
                        <div class="challenge-type">🧠 Mental</div>
                        <div class="challenge-desc">City-wide Treasure Hunt</div>
                    </div>
                </div>
                <div class="challenge-item">
                    <div class="challenge-number">2</div>
                    <div class="challenge-info">
                        <div class="challenge-type">💪 Physical</div>
                        <div class="challenge-desc">Tug of War Fun</div>
                    </div>
                </div>
                <div class="challenge-item">
                    <div class="challenge-number">3</div>
                    <div class="challenge-info">
                        <div class="challenge-type">⚖️ Balance</div>
                        <div class="challenge-desc">Slackline Challenge</div>
                    </div>
                </div>
                <div class="challenge-item">
                    <div class="challenge-number">4</div>
                    <div class="challenge-info">
                        <div class="challenge-type">⚡ Speed</div>
                        <div class="challenge-desc">40-Yard Egg & Spoon Race</div>
                    </div>
                </div>
                <div class="challenge-item">
                    <div class="challenge-number">5</div>
                    <div class="challenge-info">
                        <div class="challenge-type">❓ Mystery</div>
                        <div class="challenge-desc">??? (Fun surprise on graduation day!)</div>
                    </div>
                </div>
            </div>
            
            <div class="task-meta">
                <div class="task-meta-item">
                    <div class="task-meta-icon">📅</div>
                    <span>Saturday, Aug 30 • 2:00 PM</span>
                </div>
                <div class="task-meta-item">
                    <div class="task-meta-icon">📍</div>
                    <span>Unibet Sports Arena</span>
                </div>
                <div class="task-meta-item">
                    <div class="task-meta-icon">🏆</div>
                    <span>Graduation + 1000 XP</span>
                </div>
            </div>
            
            <div class="attendance-status">
                <div class="attendance-header">
                    <span class="attendance-label">24-Hour Decision Window</span>
                    <span class="attendance-count">3/6 confirmed</span>
                    <span class="attendance-warning">⚠️ Need ALL 6!</span>
                </div>
                <div class="attendance-members">
                    <div class="attendance-member confirmed" title="Sarah - Confirmed">S</div>
                    <div class="attendance-member confirmed" title="Mike - Confirmed">M</div>
                    <div class="attendance-member pending" title="You - Click to confirm">A</div>
                    <div class="attendance-member pending" title="Lisa - Not confirmed">L</div>
                    <div class="attendance-member confirmed" title="Tom - Confirmed">T</div>
                    <div class="attendance-member pending" title="Emma - Not confirmed">E</div>
                </div>
            </div>
            
            <div class="info-box" style="margin-top: 16px;">
                <strong>🎓 Other Graduating Squads:</strong> Dragon Force 🐉 | Thunder Legion ⚡ | Shadow Wolves 🐺<br>
                <strong>🎯 Key Point:</strong> This isn't about winning - it's about celebrating together as a complete squad. Any incomplete squad automatically waits for the next season regardless of performance.
            </div>
            
            <button class="action-btn">🎓 Confirm Fresher's Day Attendance 🎓</button>
        </div>

        <!-- Season Schedule -->
        <div class="season-schedule">
            <h3 class="schedule-title">🗓️ 2025 Fresher's Day Seasons (Only 4 Per Year)</h3>
            <div class="seasons-grid">
                <div class="season-item">
                    <div class="season-icon">🌸</div>
                    <div class="season-name">Spring</div>
                    <div class="season-date">Mar 24 ✓</div>
                </div>
                <div class="season-item current">
                    <div class="season-icon">☀️</div>
                    <div class="season-name">Summer</div>
                    <div class="season-date">Jun 30</div>
                </div>
                <div class="season-item">
                    <div class="season-icon">🍂</div>
                    <div class="season-name">Fall</div>
                    <div class="season-date">Sep 22</div>
                </div>
                <div class="season-item">
                    <div class="season-icon">❄️</div>
                    <div class="season-name">Winter</div>
                    <div class="season-date">Dec 07</div>
                </div>
            </div>
        </div>

        <!-- Pulse Rhythm Heatmap -->
        <div class="pulse-activity-section">
            <h3 class="section-title">💓 Pulse Rhythm</h3>
            <p class="section-subtitle">Connection-based visualization where intensity reflects people met through activities - hosting and large events = stronger pulse</p>
            
            <div class="activity-grid-container">
                <div class="month-labels" id="monthLabels">
                    <div class="month-spacer"></div>
                </div>
                
                <div class="activity-grid">
                    <div class="week-row">
                        <div class="day-label">Mon</div>
                    </div>
                    <div class="week-row">
                        <div class="day-label">Tue</div>
                    </div>
                    <div class="week-row">
                        <div class="day-label">Wed</div>
                    </div>
                    <div class="week-row">
                        <div class="day-label">Thu</div>
                    </div>
                    <div class="week-row">
                        <div class="day-label">Fri</div>
                    </div>
                    <div class="week-row">
                        <div class="day-label">Sat</div>
                    </div>
                    <div class="week-row">
                        <div class="day-label">Sun</div>
                    </div>
                </div>
            </div>
            
            <div class="activity-footer">
                <a href="#" class="activity-help-link" onclick="openModal(event)">How does Pulse Rhythm work?</a>
                <div class="activity-legend">
                    <span>Few</span>
                    <span class="legend-box level-0"></span>
                    <span class="legend-box level-1"></span>
                    <span class="legend-box level-2"></span>
                    <span class="legend-box level-3"></span>
                    <span class="legend-box level-4"></span>
                    <span>Many Connections</span>
                </div>
            </div>
        </div>

        <!-- Level System & Gated Content -->
        <div class="level-system-section">
            <h3 class="section-title">🎯 Level System & Gated Content</h3>
            <p class="section-subtitle">Join activities and earn XP to advance to the next level. Inactivity will cause you to lose XP.</p>

            <div class="level-tiers">
                <div class="level-tier current">
                    <div class="level-header">
                        <div class="level-title">
                            ✅ Current Access
                            <span class="level-badge-small">LEVEL 1-3</span>
                        </div>
                    </div>
                    <div class="activity-tags">
                        <span class="activity-tag">⚽ Casual Football</span>
                        <span class="activity-tag">🏃 Morning Runs</span>
                        <span class="activity-tag">🏐 Beach Volleyball</span>
                        <span class="activity-tag">🎮 Game Nights</span>
                    </div>
                </div>

                <div class="level-tier">
                    <div class="level-header">
                        <div class="level-title">
                            🔓 Unlock Soon
                            <span class="level-badge-small">LEVEL 5+</span>
                        </div>
                    </div>
                    <div class="activity-tags">
                        <span class="activity-tag">🎯 Host Activities (Lvl 5+)</span>
                        <span class="activity-tag">🏆 Weekly Tournaments</span>
                        <span class="activity-tag">🚴 Century Rides</span>
                        <span class="activity-tag">⭐ Veteran Mentoring</span>
                        <span class="activity-tag">💰 Premium Events</span>
                    </div>
                </div>

                <div class="level-tier locked">
                    <div class="level-header">
                        <div class="level-title">
                            🏊 Elite Tier
                            <span class="level-badge-small">LEVEL 15+</span>
                        </div>
                    </div>
                    <div class="activity-tags">
                        <span class="activity-tag">🏊 Masters Swimming</span>
                        <span class="activity-tag">⛷️ Ski Weekends</span>
                        <span class="activity-tag">🥊 Boxing Club</span>
                        <span class="activity-tag">🎪 VIP Events</span>
                    </div>
                </div>

                <div class="level-tier locked">
                    <div class="level-header">
                        <div class="level-title">
                            👑 Legend Status
                            <span class="level-badge-small">LEVEL 50+</span>
                        </div>
                    </div>
                    <div class="activity-tags">
                        <span class="activity-tag">✈️ Adventure Trips</span>
                        <span class="activity-tag">💰 Sponsorship Deals</span>
                        <span class="activity-tag">🏅 Olympic Venue Access</span>
                        <span class="activity-tag">💎 Lifetime Premium</span>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>🎮 How Leveling Works:</strong><br>
                • <strong>Progressive Unlocks:</strong> Higher levels = exclusive activities & hosting privileges<br>
                • <strong>Prevent Overwhelm:</strong> New users see only Level 1 content initially<br>
                • <strong>Create FOMO:</strong> Level-gated content becomes status symbols<br>
                • <strong>Hosting Economy:</strong> Veterans (Level 5+) monetize through premium events<br>
                • <strong>Video Game Stakes:</strong> Inactive periods cause level regression (unlike static apps)
            </div>
        </div>

        <!-- Recent Activities -->
        <div class="recent-activities">
            <h3 class="section-title">🎯 Recent Achievements</h3>
            <div class="activities-list">
                <div class="activity-item">
                    <div class="activity-icon completed">✅</div>
                    <div class="activity-info">
                        <div class="activity-title">FIRST MEET: A Walk in a Cool Place</div>
                        <div class="activity-date">June 15, 2025 • Built initial squad trust through a low-impact 20-min walk together.</div>
                    </div>
                    <div class="activity-xp">+250 XP</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon completed">✅</div>
                    <div class="activity-info">
                        <div class="activity-title">TEAM BOND: Escape Room & Strategy Session</div>
                        <div class="activity-date">June 27, 2025 • Identified squad strengths</div>
                    </div>
                    <div class="activity-xp">+300 XP</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon training">⚽️</div>
                    <div class="activity-info">
                        <div class="activity-title">9v9 Football Mini-Tournament</div>
                        <div class="activity-date">July 10, 2025 • Met 35 other people while playing football</div>
                    </div>
                    <div class="activity-xp">+100 XP</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                </svg>
            </div>
            <span class="nav-label">Home</span>
        </div>
        <div class="nav-item">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
            </div>
            <span class="nav-label">Squad</span>
        </div>
        <div class="nav-item">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                </svg>
            </div>
            <span class="nav-label">Alerts</span>
        </div>
        <div class="nav-item active">
            <div class="nav-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
            </div>
            <span class="nav-label">Profile</span>
        </div>
    </div>

    <script>
        // Generate activity grid data with detailed connection tracking
        const activityGrid = document.querySelector('.activity-grid');
        const days = ['Mon', 'Wed', 'Fri', 'Sun'];
        
        // Store detailed activity data for tooltips
        const activityData = {};
        
        function generateWeeklyActivityData(week, day, weeksSinceJoining) {
            const activities = [];
            let totalConnections = 0;
            
            if (weeksSinceJoining < 0) return { activities: [], connections: 0 };
            
            // Early weeks - learning period
            if (weeksSinceJoining < 8) {
                if (Math.random() < 0.6) {
                    if (day === 'Wed' && Math.random() < 0.4) {
                        activities.push({ type: 'Joined', name: 'Beach Volleyball', people: 8 });
                        totalConnections += 8;
                    }
                    if (day === 'Fri' && Math.random() < 0.3) {
                        activities.push({ type: 'Joined', name: 'Morning Run', people: 5 });
                        totalConnections += 5;
                    }
                }
            } 
            // Growth period - more activities
            else if (weeksSinceJoining < 20) {
                if (Math.random() < 0.8) {
                    if (day === 'Mon' && Math.random() < 0.5) {
                        activities.push({ type: 'Joined', name: 'Football Pickup', people: 12 });
                        totalConnections += 12;
                    }
                    if (day === 'Wed' && Math.random() < 0.6) {
                        activities.push({ type: 'Joined', name: 'Volleyball League', people: 16 });
                        totalConnections += 16;
                    }
                    if (day === 'Fri' && Math.random() < 0.4) {
                        activities.push({ type: 'Joined', name: 'Squad Training', people: 6 });
                        totalConnections += 6;
                    }
                    if (day === 'Sun' && Math.random() < 0.3) {
                        activities.push({ type: 'Joined', name: 'Game Night', people: 8 });
                        totalConnections += 8;
                    }
                }
            }
            // Recent period - can now host (reached Level 5), more connections
            else {
                // Simulate some bad weeks where level dropped
                if ((week % 7 === 0 && Math.random() < 0.3) || (week === 45)) {
                    return { activities: [], connections: 0 };
                }
                
                if (Math.random() < 0.85) {
                    if (day === 'Mon' && Math.random() < 0.6) {
                        activities.push({ type: 'Joined', name: 'Morning Basketball', people: 10 });
                        totalConnections += 10;
                    }
                    if (day === 'Wed' && Math.random() < 0.4) {
                        // Can host now! Higher connections for hosting
                        activities.push({ type: 'Hosted', name: 'Beach Volleyball', people: 18 });
                        totalConnections += 18;
                    }
                    if (day === 'Fri' && Math.random() < 0.7) {
                        activities.push({ type: 'Joined', name: 'Squad Meetup', people: 6 });
                        totalConnections += 6;
                        if (Math.random() < 0.3) {
                            activities.push({ type: 'Joined', name: 'After-Party', people: 12 });
                            totalConnections += 12;
                        }
                    }
                    if (day === 'Sun' && Math.random() < 0.5) {
                        if (Math.random() < 0.3) {
                            // Hosting gives more connections
                            activities.push({ type: 'Hosted', name: 'Tournament', people: 24 });
                            totalConnections += 24;
                        } else {
                            activities.push({ type: 'Joined', name: 'Community Run', people: 15 });
                            totalConnections += 15;
                        }
                    }
                }
            }
            
            return { activities, connections: totalConnections };
        }
        
        function getActivityLevel(connections) {
            if (connections === 0) return 0;
            if (connections <= 5) return 1;
            if (connections <= 12) return 2;
            if (connections <= 20) return 3;
            return 4; // 20+ connections
        }
        
        days.forEach((day, dayIndex) => {
            const row = activityGrid.children[dayIndex];
            for (let week = 0; week < 52; week++) {
                const cell = document.createElement('div');
                cell.className = 'activity-cell';
                
                const joinedWeek = 20; // Joined ~20 weeks ago
                const weeksSinceJoining = week - joinedWeek;
                
                if (week < joinedWeek) {
                    cell.title = `${day}, Week ${week + 1} - Before joining Pulse`;
                    activityData[`${week}-${dayIndex}`] = { 
                        week: week + 1, 
                        day, 
                        activities: [], 
                        connections: 0,
                        beforeJoining: true 
                    };
                } else {
                    const weekData = generateWeeklyActivityData(week, day, weeksSinceJoining);
                    const level = getActivityLevel(weekData.connections);
                    
                    if (level > 0) {
                        cell.classList.add(`level-${level}`);
                    }
                    
                    activityData[`${week}-${dayIndex}`] = {
                        week: week + 1,
                        day,
                        activities: weekData.activities,
                        connections: weekData.connections,
                        level
                    };
                    
                    cell.title = `${day}, Week ${week + 1} - ${weekData.connections} connections`;
                }
                
                // Add hover and click events
                cell.addEventListener('mouseenter', (e) => showActivityDetail(e, week, dayIndex));
                cell.addEventListener('mouseleave', hideActivityDetail);
                cell.addEventListener('click', (e) => showActivityDetail(e, week, dayIndex, true));
                
                row.appendChild(cell);
            }
        });

        // Activity detail tooltip functions
        let activeTooltip = null;

        function showActivityDetail(event, week, dayIndex, isClick = false) {
            const data = activityData[`${week}-${dayIndex}`];
            if (!data) return;

            // Remove existing tooltip
            hideActivityDetail();

            const tooltip = document.createElement('div');
            tooltip.className = 'activity-detail-tooltip';
            
            if (data.beforeJoining) {
                tooltip.innerHTML = `
                    <div class="tooltip-header">${data.day}, Week ${data.week}</div>
                    <div>Before joining Pulse 📅</div>
                `;
            } else if (data.activities.length === 0) {
                tooltip.innerHTML = `
                    <div class="tooltip-header">${data.day}, Week ${data.week}</div>
                    <div>No activity this day 😴</div>
                `;
            } else {
                const activitiesHTML = data.activities.map(activity => 
                    `• ${activity.type === 'Hosted' ? '🎯 Hosted' : '🏃 Joined'}: ${activity.name} (${activity.people} people)`
                ).join('<br>');
                
                tooltip.innerHTML = `
                    <div class="tooltip-header">${data.day}, Week ${data.week}</div>
                    <div class="tooltip-activities">${activitiesHTML}</div>
                    <div class="tooltip-connections">💫 ${data.connections} total connections</div>
                `;
            }

            // Position tooltip
            const rect = event.target.getBoundingClientRect();
            const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            tooltip.style.left = (rect.left + scrollLeft + rect.width / 2) + 'px';
            tooltip.style.top = (rect.top + scrollTop - 10) + 'px';
            tooltip.style.transform = 'translateX(-50%) translateY(-100%)';

            document.body.appendChild(tooltip);
            activeTooltip = tooltip;

            // Show with animation
            setTimeout(() => {
                tooltip.classList.add('show');
            }, 10);

            // Auto-hide for hover (but not click)
            if (!isClick) {
                setTimeout(() => {
                    if (activeTooltip === tooltip) {
                        hideActivityDetail();
                    }
                }, 3000);
            }
        }

        function hideActivityDetail() {
            if (activeTooltip) {
                activeTooltip.classList.remove('show');
                setTimeout(() => {
                    if (activeTooltip && activeTooltip.parentNode) {
                        activeTooltip.parentNode.removeChild(activeTooltip);
                    }
                    activeTooltip = null;
                }, 200);
            }
        }

        // Close tooltip when clicking elsewhere
        document.addEventListener('click', (e) => {
            if (!e.target.classList.contains('activity-cell')) {
                hideActivityDetail();
            }
        });

        // Generate month labels
        function generateMonthLabels() {
            const monthLabels = document.getElementById('monthLabels');
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const weeksPerMonth = [4, 4, 5, 4, 4, 5, 4, 5, 4, 4, 5, 4];
            
            months.forEach((month, index) => {
                const weeks = weeksPerMonth[index];
                const monthLabel = document.createElement('div');
                monthLabel.className = 'month-label';
                monthLabel.style.gridColumn = `span ${weeks}`;
                monthLabel.textContent = month;
                monthLabels.appendChild(monthLabel);
            });
        }

        generateMonthLabels();

        // Countdown timer
        function updateCountdown() {
            const battleDate = new Date('2025-08-30T14:00:00');
            const now = new Date();
            const diff = battleDate - now;
            
            if (diff > 0) {
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                
                const countdownTimer = document.querySelector('.countdown-time');
                if (countdownTimer) {
                    countdownTimer.textContent = `${days} DAYS : ${hours} HOURS : ${minutes} MIN`;
                }
            }
        }

        updateCountdown();
        setInterval(updateCountdown, 60000);

        // Modal functions
        function openModal(event) {
            event.preventDefault();
            document.getElementById('activityModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('activityModal').classList.remove('show');
        }

        // Schedule Modal functions
        function openScheduleModal() {
            document.getElementById('scheduleModal').classList.add('show');
        }

        function closeScheduleModal() {
            document.getElementById('scheduleModal').classList.remove('show');
        }

        function syncGoogleCalendar() {
            showNotification('🔗 Google Calendar sync coming soon! This will enable smart activity recommendations.');
            animateXP('+25 XP');
            
            // Simulate connection after delay
            setTimeout(() => {
                const badge = document.querySelector('.status-badge.disconnected');
                if (badge) {
                    badge.textContent = 'Connected ✓';
                    badge.classList.remove('disconnected');
                    badge.classList.add('connected');
                }
                showNotification('📅 Calendar connected! Hosts will now get better time recommendations for your squad.');
            }, 2000);
        }

        function openManualSchedule() {
            showNotification('⏰ Manual schedule builder coming soon! Set your weekly availability patterns.');
            animateXP('+15 XP');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const activityModal = document.getElementById('activityModal');
            const scheduleModal = document.getElementById('scheduleModal');
            if (event.target == activityModal) {
                activityModal.classList.remove('show');
            }
            if (event.target == scheduleModal) {
                scheduleModal.classList.remove('show');
            }
        }

        // Confirm attendance - 24-hour decision window
        const actionBtn = document.querySelector('.action-btn');
        actionBtn.addEventListener('click', function() {
            if (!this.disabled) {
                this.textContent = '⚔️ Battle Ready! Decision Locked In ⚔️';
                this.style.background = 'linear-gradient(135deg, #10B981, #059669)';
                this.disabled = true;
                
                // Update attendance
                const yourAvatar = document.querySelectorAll('.attendance-member')[2]; // 3rd position (You)
                yourAvatar.classList.remove('pending');
                yourAvatar.classList.add('confirmed');
                
                // Update count
                const countElement = document.querySelector('.attendance-count');
                countElement.textContent = '4/6 confirmed';
                
                // Show notification
                showNotification('⚔️ Decision locked in! Your squad needs 2 more confirmations for graduation.');
                
                // Add XP animation
                animateXP('+50 XP');
            }
        });

        // XP animation function
        function animateXP(xpText) {
            const xpElement = document.createElement('div');
            xpElement.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-size: 48px;
                font-weight: 700;
                color: #F59E0B;
                z-index: 2000;
                animation: xpFloat 2s ease-out forwards;
                pointer-events: none;
            `;
            xpElement.textContent = xpText;
            document.body.appendChild(xpElement);
            setTimeout(() => xpElement.remove(), 2000);
        }

        // Notification system
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: linear-gradient(135deg, #7C3AED, #EC4899);
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
                font-weight: 600;
                max-width: 300px;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out forwards';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Add animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { opacity: 0; transform: translateX(400px); }
                to { opacity: 1; transform: translateX(0); }
            }
            @keyframes slideOut {
                to { opacity: 0; transform: translateX(400px); }
            }
            @keyframes xpFloat {
                0% {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0.5);
                }
                50% {
                    opacity: 1;
                    transform: translate(-50%, -60%) scale(1.2);
                }
                100% {
                    opacity: 0;
                    transform: translate(-50%, -80%) scale(1);
                }
            }
        `;
        document.head.appendChild(style);

        // Simulate member confirmations every 15 seconds
        function simulateMemberActivity() {
            const pendingMembers = document.querySelectorAll('.attendance-member.pending');
            if (pendingMembers.length > 1 && Math.random() > 0.6) {
                const members = Array.from(pendingMembers).filter((m, i) => 
                    !m.title.includes("You")
                );
                if (members.length > 0) {
                    const randomMember = members[Math.floor(Math.random() * members.length)];
                    const memberName = randomMember.title.split(' ')[0];
                    randomMember.classList.remove('pending');
                    randomMember.classList.add('confirmed');
                    
                    const count = document.querySelectorAll('.attendance-member.confirmed').length;
                    document.querySelector('.attendance-count').textContent = `${count}/6 confirmed`;
                    
                    showNotification(`🎓 ${memberName} confirmed for Fresher's Day!`);
                    
                    if (count === 6) {
                        setTimeout(() => {
                            showNotification('🎉 FULL SQUAD READY! Phoenix Squad can graduate! All 6 members committed.');
                            animateXP('+200 XP SQUAD BONUS');
                        }, 1000);
                    }
                }
            }
        }

        setInterval(simulateMemberActivity, 15000);

        // Floating Action Button
        document.querySelector('.fab').addEventListener('click', function() {
            const actions = [
                '⚡ Quick Match Finder', 
                '🎯 Browse Level 3 Activities', 
                '📅 Squad Calendar', 
                '🏆 Leaderboard',
                '💪 Pre-Graduation Training'
            ];
            const randomAction = actions[Math.floor(Math.random() * actions.length)];
            showNotification(`${randomAction} coming soon!`);
            animateXP('+10 XP');
        });

        // Milestone interactions
        document.querySelectorAll('.milestone').forEach(milestone => {
            milestone.addEventListener('click', function() {
                const label = this.querySelector('span').textContent;
                const messages = {
                    'JOINED': '🎯 Welcome to Pulse Academy! Your journey to lasting friendships begins.',
                    'FIRST MEET': '💪 Low-barrier activity built initial trust with your squad.',
                    'TEAM BOND': '🤝 Social activity revealed each member\'s unique strengths.',
                    'CHALLENGE': '🎓 Fresher\'s Day - The celebration path to graduation. Show up together!',
                    'GRADUATION': '🎓 Full Pulse membership unlocked. Your squad becomes a lifelong community.'
                };
                
                if (messages[label]) {
                    showNotification(messages[label]);
                }
            });
        });

        // Level system interactions
        document.querySelectorAll('.activity-tag').forEach(tag => {
            tag.addEventListener('click', function() {
                const text = this.textContent;
                if (this.closest('.level-tier.locked')) {
                    showNotification('🔒 Level up to unlock this activity! Keep building connections daily.');
                } else if (text.includes('Host Activities')) {
                    showNotification('🎯 Reach Level 5 to unlock hosting! Create events that bring people together.');
                } else if (text.includes('Veteran Mentoring')) {
                    showNotification('⭐ Level 5+ enables veteran mentoring for new squads.');
                } else {
                    showNotification('🎮 Activity available at your current level!');
                }
            });
        });

        // Squad member interactions
        document.querySelectorAll('.member').forEach(member => {
            member.addEventListener('click', function() {
                const title = this.title;
                if (title.includes('Veteran')) {
                    showNotification('⭐ Veterans provide mentorship and enter cooldown after graduation.');
                } else if (title.includes('You')) {
                    showNotification('🎯 You\'re a newcomer! Learn from veterans and bond with your squad.');
                } else {
                    showNotification('👥 Fellow newcomer on the same journey to graduation.');
                }
            });
        });

        // Show retention-focused welcome message
        setTimeout(() => {
            showNotification('🔥 18 days until your squad\'s graduation celebration! Daily engagement keeps your pulse strong.');
        }, 2000);

        setTimeout(() => {
            showNotification('💪 Your squad needs 2 more confirmations. Help remind Lisa and Emma!');
        }, 8000);

        setTimeout(() => {
            showNotification('📅 Tip: Update your schedule availability to get better activity recommendations!');
        }, 15000);
    </script>
</body>
</html>
